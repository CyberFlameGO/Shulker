apiVersion: shulkermc.io/v1alpha1
kind: MinecraftServerDeployment
metadata:
  name: lobby
spec:
  clusterRef:
    name: my-cluster
  replicas: 1
  template:
    spec:
      version:
        channel: Paper
        name: '1.19.2'
      config:
        maxPlayers: 100
      podOverrides:
        affinity:
          nodeAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
              - weight: 1
                preference:
                  matchExpressions:
                    - key: cloud.google.com/gke-preemptible
                      operator: In
                      values:
                        - 'true'
